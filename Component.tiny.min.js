var t={};function e(t,e=""){if(e||(e=s(t)),r.has(e))return;const n=document.createElement("style");return n.textContent=t,document.head.appendChild(n),r.set(e,n),n}function n(t,e=""){e||(e=s(t));const n=r.get(e);n&&(r.delete(e),n.remove())}function s(t){let e=5381;for(let n=0;n<t.length;n++)e=(e<<5)+e+t.charCodeAt(n),e|=0;return e.toString(36)}t.d=(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);const r=new Map;function o(t,e=!1,n=100){return new Promise(s=>{let r,o;const a=()=>{if(t.isConnected&&(t._mounted||(t._mounted=!0,t._onMount&&t._onMount()),r||(r=!0,e||s(t)),t.clientWidth||t.clientHeight))return t._rendered||(t._rendered=!0,t._onRender&&t._onRender()),void(o||(o=!0,e&&s(t)));n--?requestAnimationFrame(a):(e&&!o||!e&&!r)&&s(null)};a()})}function a(t,e){const n=new ResizeObserver(n=>{for(const s of n)s.target===t&&e(s)});n.observe(t);const s=new MutationObserver(()=>{t.isConnected||(n.disconnect(),s.disconnect())});s.observe(document.body,{childList:!0,subtree:!0})}class c{constructor(t,e={},n=!1){this.$root=c.make(t,{...e,ctx:this},n)}static make(t,e={},n=!1){t??=e.tag;let s="svg"==t||n?document.createElementNS("http://www.w3.org/2000/svg",t??"svg"):document.createElement(t??"div");return c.update(s,e),s}static update(t,e){if(!x.node(t)||!x.obj(e))return t;t.ctx=e.ctx??e.context??t.ctx;for(let[n,s]of Object.entries(e))h(t,n,s);return e.also&&e.also.call(t.ctx,{el:t,ctx:t.ctx}),t}static mount(t,e,n=!1,s=100){return t.parentNode!==e&&e.appendChild(t),Promise.resolve(t)}static clear(t,e=!0){if(t)for(;t.firstChild;)c.remove(t.firstChild,!1)}static remove(t,e=!0){t&&t.parentNode&&t.parentNode.removeChild(t)}static config=c.update}const i=new Set(["tag","get","also","context","ctx"]),l={child:"children",child_r:"children_r",text:"textContent",html:"innerHTML"},d={push(t,e){e.push(t)},$(t,e){t.ctx&&(t.ctx["$"+e]=t)},attrs(t,e){u("attrs",t,e,(e,n)=>t.setAttribute(e,n),e=>t.removeAttribute(e))},data(t,e){u("data",t,e,(e,n)=>t.dataset[e]=n,e=>delete t.dataset[e])},props(t,e){for(let n in e){let s=m(0,0,0,e[n]);t[n]="value"==n&&["number","range"].includes(t.type)||["min","max","step"].includes(n)?Number.isFinite(s)?s:0:s??""}},animate(t,e){const{duration:n=300,easing:s="ease",onEnd:r=null,...o}=e;t.style.transition=Object.keys(o).map(t=>`${t} ${n}ms ${s}`).join(", "),r&&t.addEventListener("transitionend",e=>r.call(t.ctx,Object.assign(e,{el:t,ctx:t.ctx})),{once:!0}),requestAnimationFrame(()=>d.style(t,o))},events(t,e){for(let n in e){let s=e[n],r={};if(x.obj(s)&&(r=s,s=s.handler,!s))continue;const o=e=>s.call(t.ctx,Object.assign(e,{el:t,ctx:t.ctx}));(t._events??=[]).push({ev:n,fn:o,options:r}),t.addEventListener(n,o,r)}},events_r(t,e){d.events(t,e)},children(t,e){f(t,e)},children_r(t,e){c.clear(t),f(t,e)},style(t,e){p("style",t,e,e=>t.style.cssText+=e+";",(e,n)=>{n&&Number.isInteger(n)&&(n+="px"),e.startsWith("--")?t.style.setProperty(e,n):t.style[e]=n})},style_r(t,e){t.style.cssText="",d.style(t,e)},class(t,e){p("class",t,e,e=>e.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(e,n)=>n?t.classList.add(e):t.classList.remove(e))},class_r(t,e){t.className="",d.class(t,e)},parent(t,e){c.mount(t,e,!1,t._onMount||t._onRender?100:0)}};function u(t,e,n,s,r){for(let t in n){let e=m(0,0,0,n[t]);null==e?r(t):s(t,String(e))}}function p(t,e,n,s,r){if(x.str(n))s(n);else for(let s in n)"_raw"==s?d[t](e,n[s]):r(s,m(0,0,0,n[s]))}function f(t,e){e&&(x.str(e)?t.insertAdjacentHTML("beforeend",e):x.arr(e)?e.forEach(e=>f(t,e)):x.node(e)?c.mount(e,t):e instanceof c?c.mount(e.$root,t):x.obj(e)&&c.make(null,{ctx:t.ctx,...e,parent:t},t instanceof SVGElement))}function m(t,e,n,s){return s}function h(t,e,n){if(i.has(e))return;(e=l[e]??e).startsWith("on")&&(n={[e.slice(2).toLowerCase()]:n},e="events");const s=d[e];null!=n&&s?s(t,n):d.props(t,{[e]:n})}const x={func:t=>"function"==typeof t,str:t=>"string"==typeof t,arr:t=>Array.isArray(t),node:t=>t instanceof Node,obj:t=>null!==t&&"object"==typeof t,state:t=>t&&t._state};class g{static svg=(t={},e={})=>({tag:"svg",...e,attrs:t});static rect=(t,e,n,s,r,o,a={},c={})=>({tag:"rect",...c,attrs:{...a,x:t,y:e,width:n,height:s,rx:r,ry:o}});static circle=(t,e,n,s={},r={})=>({tag:"circle",...r,attrs:{...s,cx:t,cy:e,r:n}});static line=(t,e,n,s,r={},o={})=>({tag:"line",...o,attrs:{...r,x1:t,y1:e,x2:n,y2:s}});static polyline=(t,e={},n={})=>({tag:"polyline",...n,attrs:{...e,points:t}});static polygon=(t,e={},n={})=>({tag:"polygon",...n,attrs:{...e,points:t}});static path=(t,e={},n={})=>({tag:"path",...n,attrs:{...e,d:t}});static text=(t,e,n,s={},r={})=>({tag:"text",...r,text:t,attrs:{...s,x:e,y:n}});static make=(t,e)=>c.make(t,e,!0);static update=c.update;static config=c.update}Object.getOwnPropertyNames(g).forEach(t=>g["make_"+t]=(...e)=>g.make(null,g[t](...e)));export{c as EL,g as SVG,e as addCSS,n as removeCSS,o as watchMount,a as watchResize};