var e={};function t(e,t=""){if(t||(t=o(e)),s.has(t))return;const n=document.createElement("style");return n.textContent=e,document.head.appendChild(n),s.set(t,n),n}function n(e,t=""){t||(t=o(e));const n=s.get(t);n&&(s.delete(t),n.remove())}function o(e){let t=5381;for(let n=0;n<e.length;n++)t=(t<<5)+t+e.charCodeAt(n),t|=0;return t.toString(36)}e.d=(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const s=new Map;function r(e,t=!1,n=100){return new Promise(o=>{let s,r;const a=()=>{if(e.isConnected&&(e._mounted||(e._mounted=!0,e._onMount&&e._onMount()),s||(s=!0,t||o(e)),e.clientWidth||e.clientHeight))return e._rendered||(e._rendered=!0,e._onRender&&e._onRender()),void(r||(r=!0,t&&o(e)));n--?requestAnimationFrame(a):(t&&!r||!t&&!s)&&o(null)};a()})}function a(e,t){const n=new ResizeObserver(n=>{for(const o of n)o.target===e&&t(o)});n.observe(e);const o=new MutationObserver(()=>{e.isConnected||(n.disconnect(),o.disconnect())});o.observe(document.body,{childList:!0,subtree:!0})}class c{constructor(e,t={},n=!1){this.$root=c.makeIn(this,e,t,n)}static make(e,t={},n=!1){if(t instanceof Node)return t;let o="svg"==e||n?document.createElementNS("http://www.w3.org/2000/svg",e??"svg"):document.createElement(e??"div");return c.update(o,t)}static makeIn(e,t,n={},o=!1){return c.make(t,{...n,context:e},o)}static update(e,t){if(Array.isArray(e))return e.map(e=>c.update(e,t));if(!(e instanceof Node)||"object"!=typeof t)return e;const n="context"in t?t.context:c.context,o={el:e,context:n,ctx:n};for(let[e,n]of Object.entries(t))h(o,e,n);return t.also&&t.also.call(n,o),"context"in t&&(c.context=t.context),e}static updateIn(e,t,n){return c.update(t,{...n,context:e})}static mount(e,t,n=!1,o=100){return e.parentNode!==t&&t.appendChild(e),Promise.resolve(e)}static clear(e,t=!0){if(e)for(;e.firstChild;)c.remove(e.firstChild,!1)}static remove(e,t=!0){e&&e.parentNode&&e.parentNode.removeChild(e)}static context;static config=c.update;static configIn=c.updateIn}const i=new Set(["tag","get","also","context"]),l={var:"$",child:"children",child_r:"children_r",text:"textContent",html:"innerHTML",click:"onclick",input:"oninput",change:"onchange",mousewheel:"onmousewheel"},d={push(e,t){t.push(e.el)},$(e,t){e.ctx&&(e.ctx["$"+t]=e.el)},attrs(e,t){u("attrs",e,t,(t,n)=>e.el.setAttribute(t,n),t=>e.el.removeAttribute(t))},data(e,t){u("data",e,t,(t,n)=>e.el.dataset[t]=n,t=>delete e.el.dataset[t])},props(e,t){for(let n in t){let o=f(0,0,0,t[n]);e.el[n]="value"==n&&["number","range"].includes(e.el.type)||["min","max","step"].includes(n)?Number.isFinite(o)?o:0:o??""}},animate(e,t){const{duration:n=300,easing:o="ease",onEnd:s=null,...r}=t;e.el.style.transition=Object.keys(r).map(e=>`${e} ${n}ms ${o}`).join(", "),requestAnimationFrame(()=>{for(let t in r)e.el.style[t]=r[t]}),s&&e.el.addEventListener("transitionend",()=>s.call(e.ctx,e),{once:!0})},events(e,t){for(let n in t){let o=t[n],s={};if("object"==typeof o){for(let e in o)"handler"!=e&&(s[e]=o[e]);o=o.handler}const r=t=>o.call(e.ctx,Object.assign(t,e));(e.el._events??=[]).push({ev:n,fn:r,options:s}),e.el.addEventListener(n,r,s)}},events_r(e,t){d.events(e,t)},children(e,t){p(e,t)},children_r(e,t){c.clear(e.el),p(e,t)},style(e,t){m("style",e,t,t=>e.el.style.cssText+=t+";",(t,n)=>e.el.style[t]=n)},style_r(e,t){e.el.style.cssText="",d.style(e,t)},class(e,t){m("class",e,t,t=>t.trim().split(/\s+/).forEach(t=>e.el.classList.add(t)),(t,n)=>n?e.el.classList.add(t):e.el.classList.remove(t))},class_r(e,t){e.el.className="",d.class(e,t)},parent(e,t){c.mount(e.el,t,!1,e.el._onMount||e.el._onRender?100:0)}};function u(e,t,n,o,s){for(let e in n){let t=f(0,0,0,n[e]);null==t?s(e):o(e,String(t))}}function m(e,t,n,o,s){if("string"==typeof n)o(n);else for(let o in n)"_raw"==o?d[e](t,n[o]):s(o,f(0,0,0,n[o]))}function p(e,t){t&&(t instanceof Node?c.mount(t,e.el):t instanceof c?c.mount(t.$root,e.el):Array.isArray(t)?t.forEach(t=>p(e,t)):"string"==typeof t?e.el.insertAdjacentHTML("beforeend",t):"object"==typeof t&&c.make(t.tag,{...t,parent:e.el,context:t.context??e.ctx},e.el instanceof SVGElement))}function f(e,t,n,o){return o}function h(e,t,n){if(i.has(t))return;(t=l[t]??t).startsWith("on")&&(n={[t.slice(2).toLowerCase()]:n},t="events");const o=d[t];null!=n&&o?o(e,n):d.props(e,{[t]:n})}class x{static make=(e,t)=>c.make(e,t,!0);static update=(e,t)=>c.update(e,t);static svg=(e={},t={})=>x._make("svg",e,t);static rect=(e,t,n,o,s,r,a={},c={})=>x._make("rect",{...a,x:e,y:t,width:n,height:o,rx:s,ry:r},c);static circle=(e,t,n,o={},s={})=>x._make("circle",{...o,cx:e,cy:t,r:n},s);static line=(e,t,n,o,s={},r={})=>x._make("line",{...s,x1:e,y1:t,x2:n,y2:o},r);static polyline=(e,t={},n={})=>x._make("polyline",{...t,points:e},n);static polygon=(e,t={},n={})=>x._make("polygon",{...t,points:e},n);static path=(e,t={},n={})=>x._make("path",{...t,d:e},n);static text=(e,t,n,o={},s={})=>x._make("text",{...o,x:t,y:n},{...s,text:e});static _make=(e,t={},n={})=>x.make(e,{attrs:{...t},...n});static config=x.update}const y=c;export{y as Component,c as EL,x as SVG,t as addCSS,n as removeCSS,r as watchMount,a as watchResize};