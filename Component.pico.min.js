class t{constructor(e,s={},n=!1){this.$root=t.make(e,{...s,ctx:this},n)}static make(e,s={},n=!1){e||=s.tag;let r="svg"==e||s.svg||n?document.createElementNS("http://www.w3.org/2000/svg",e||"svg"):document.createElement(e||"div");return t.update(r,s),r}static update(t,e){if(!i.node(t)||!i.obj(e))return t;t.ctx=e.ctx??e.context??t.ctx;for(let[s,n]of Object.entries(e))l(t,s,n);return e.also?.call(t.ctx,{el:t,ctx:t.ctx}),t}static mount(t,e){t&&(null==e?t.parentNode?.removeChild(t):t.parentNode!==e&&e.appendChild(t))}static clear(e,s=!0){if(e)for(;e.firstChild;)t.remove(e.firstChild,!1)}static remove(t,e=!0){t&&t.parentNode?.removeChild(t)}static config=t.update}const e=new Set(["tag","get","also","context","ctx","svg"]),s={children:"child",children_r:"child_r",text:"textContent",html:"innerHTML"},n={push(t,e){e.push(t)},$(t,e){t.ctx&&(t.ctx["$"+e]=t)},attrs(t,e){r("attrs",t,e,(e,s)=>t.setAttribute(e,s),e=>t.removeAttribute(e))},data(t,e){r("data",t,e,(e,s)=>t.dataset[e]=s,e=>delete t.dataset[e])},props(t,e){for(let s in e){let n=c(0,0,0,e[s]);t[s]=["min","max","step","selectedIndex"].includes(s)||"value"==s&&["number","range"].includes(t.type)?null==n||""===n||Number.isNaN(n)?"":+n:n??""}},transition(t,e){const{duration:s=300,easing:r="ease",delay:a=0,onEnd:o=null,...c}=e;t.style.transition=Object.keys(c).map(t=>`${t} ${s}ms ${r} ${a}ms`).join(", "),o&&n.events(t,{transitionend:{handler:o,once:!0}}),requestAnimationFrame(()=>n.style(t,c))},events(t,e){for(let s in e){let n=e[s],r={};if(i.obj(n)&&(r=n,n=n.handler,!n))continue;const a=e=>n.call(t.ctx,Object.assign(e,{el:t,ctx:t.ctx}));t.addEventListener(s,a,r)}},events_r(t,e){n.events(t,e)},child(t,e){o(t,e)},child_r(e,s){t.clear(e),n.child(e,s)},style(t,e){a("style",t,e,e=>t.style.cssText+=e+";",(e,s)=>{e.startsWith("--")?t.style.setProperty(e,s):t.style[e]=s})},style_r(t,e){t.style.cssText="",n.style(t,e)},class(t,e){i.arr(e)&&(e=Object.fromEntries(e.filter(Boolean).map(t=>[t,!0]))),a("class",t,e,e=>e.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(e,s)=>s?t.classList.add(e):t.classList.remove(e))},class_r(t,e){t.className="",n.class(t,e)},parent(e,s){t.mount(e,s)}};function r(t,e,s,n,r){for(let t in s){let e=c(0,0,0,s[t]);null==e?r(t):n(t,String(e))}}function a(t,e,s,r,a){if(i.str(s))r(s);else for(let r in s)"_raw"==r?n[t](e,s[r]):a(r,c(0,0,0,s[r]))}function o(e,s){s&&(i.str(s)?e.insertAdjacentHTML("beforeend",s):i.arr(s)?s.forEach(t=>o(e,t)):i.node(s)?t.mount(s,e):s instanceof t?t.mount(s.$root,e):i.obj(s)&&t.make(null,{ctx:e.ctx,...s,parent:e},e instanceof SVGElement))}function c(t,e,s,n){return n}function l(t,r,a){if(e.has(r))return;(r=s[r]??r).startsWith("on")&&(a={[r.slice(2).toLowerCase()]:a},r="events");const o=n[r];null!=a&&o?o(t,a):n.props(t,{[r]:a})}const i={func:t=>"function"==typeof t,str:t=>"string"==typeof t,arr:t=>Array.isArray(t),node:t=>t instanceof Node,obj:t=>null!==t&&"object"==typeof t,state:t=>t&&t._state};export{t as EL};